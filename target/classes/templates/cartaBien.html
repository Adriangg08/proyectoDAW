<!DOCTYPE html>
<html lang="es">
	<head>
	    <meta charset="UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>El Fartuquin</title>
	    <link rel="stylesheet" href="../css/darkMode.css">
	    <link rel="stylesheet" href="../css/footer.css">
	    <script src="../js/menu.js"></script>
	    <script src="https://kit.fontawesome.com/fb2a479feb.js" crossorigin="anonymous"></script>
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
		<div th:insert="librerias::librerias"></div>
	</head>
	
	<body>
			
		<section th:insert="menu::menu"></section>	
		
		<main id="main">
		
			<section class="p-3" style="min-height: 100vh">
				
				<div class="container aos-init aos-animate" data-aos="fade-up">
					
					<div class="section-header">
						
						<h1 class="display-3 text-general fw-bolder p-3">Nuestra carta</h1>
					
						<p class="fs-1 p-3">
							
							Descubre nuestro <span class="text-general fw-bolder text-decoration-underline">Menu Especial</span>
							
						</p>
					
					</div>
						
					<ul class="nav nav-tabs d-flex justify-content-center aos-init aos-animate p-2" data-aos="fade-up" data-aos-delay="200" role="tablist">
						
						<li class="nav-item" role="presentation">
							
							<a class="nav-link active" data-bs-toggle="tab" data-bs-target="#TODO" aria-selected="true" role="tab">
								
								<h4 class="text-general fs-3">TODO</h4>
							
							</a>
							
						</li>
						
						<li class="nav-item" role="presentation" th:each="categ:${listaCategorias}">
							
							<a class="nav-link" data-bs-toggle="tab" th:data-bs-target="${'#'+categ}" aria-selected="true" role="tab">
								
								<h4 th:text="${categ}" class="text-general fs-3"></h4>
							
							</a>
							
						</li>
						
					</ul>
					
					<div class="tab-content aos-init aos-animate p-4" data-aos="fade-up" data-aos-delay="300">
						
						<div class="tab-pane fade show" th:id="${categ}" role="tabpanel" th:each="categ:${listaCategorias}">
							
							<div class="tab-header text-center">
								
								<h3 th:text="${categ}"></h3>
								
							</div>
							
							<div class="row gy-5">
								
								<div th:each="plato:${listaPlatos}">
							
									<div class="col-lg-4 menu-item background-general text-white d-flex" th:if="${plato.getCategoria().compareTo(categ)} == 0">
										
										<div class="col-lg-5 p-3">
											
											<img th:src="@{${'../img/'+plato.getUrl()}}" class="menu-img img-fluid" width="100%">
											
										</div>
											
										<div class="col-lg-7 p-3">
											
											<h4 th:text="${plato.getNombre()}"></h4>
											
											<!--
											<p th:text="${plato.getIngredientes()}"></p>
											-->
											
											<p th:text="${plato.getPrecio()}+€"></p>
											
											<a class=" background-general text-white p-1 fs-4 rounded" th:href="@{/carta/add/{id}(id=${plato.getId()})}"><i class="fa-solid fa-cart-plus"></i></a>
											
										</div>
											
									</div>
								
								</div>
						
							</div>
							
						</div>
						
						<div class="tab-pane fade show active" th:id="TODO" role="tabpanel">
							
							<div class="tab-header text-center">
								
								<h3>TODO</h3>
								
							</div>
							
							<div class="d-flex justify-content-evenly">
								
							
									<div class="col-lg-4 background-general text-white d-flex rounded" th:each="plato:${listaPlatos}">
											
											<div class="col-lg-5 p-3">
											
												<img th:src="@{${'../img/'+plato.getUrl()}}" class="menu-img img-fluid" width="100%">
												
											</div>
		
											<div class="col-lg-7 p-3">
											
												<h4 th:text="${plato.getNombre()}"></h4>
											
												<!--
												<p th:text="${plato.getIngredientes()}"></p>
												-->
												
												<p th:text="${plato.getPrecio()}+€"></p>
												
												<a class=" background-general text-white fs-4 shadow p-1 mb-5 rounded" th:href="@{/carta/add/{id}(id=${plato.getId()})}"><i class="fa-solid fa-cart-plus"></i></a>
												
											</div>
											
									</div>
								
								
						
							</div>
							
						</div>
								
					</div>
					
					<div class="position-fixed translate-middle" style="top: 85%; right: 5%;">
					
						<div class="container mt-3" >
							
					        <div class="dropup">
								
					            <button type="button" class="btn dropdown-toggle background-general rounded-circle" data-toggle="dropdown" style="width: 80px;height: 80px;">
									
					                <span class="text-white fs-4" style="cursor:pointer;"><i class="fa-solid fa-cart-shopping"></i></span>
					                
					            </button>
					            
					            <div class="dropdown-menu background-general" style="width: 50vw;">
									
					                <section class="h-100 h-custom">
										
										  <div class="container py-5 h-100 background-general">
											  
										    <div class="row d-flex justify-content-center align-items-center h-100">
												
										      <div class="col-12">
												  
										        <div class="card card-registration card-registration-2" style="border-radius: 15px;">
													
										          <div class="card-body p-0">
													  
										            <div class="row g-0">
														
										              <div class="col-lg-8">
														  
										                <div class="p-5">
															
											                  <div class="d-flex justify-content-between align-items-center mb-5">
											                    <h1 class="fw-bold mb-0 text-black">Platos pedido</h1>
											                    <h6 class="mb-0 text-muted" th:text="${platosReserva.size()}+' '+platos"></h6>
											                  </div>
												                  
												              <div th:each="plato:${platosReserva}">
												                  
												                  <hr class="my-4">
												
												                  <div class="row mb-4 d-flex justify-content-between align-items-center">
																	  
												                    <div class="col-md-2 col-lg-2 col-xl-2">
												                      <img th:src="@{${'../img/'+plato.getUrl()}}" class="img-fluid rounded-3" alt="Cotton T-shirt">
												                    </div>
												                    
												                    <div class="col-md-3 col-lg-3 col-xl-3">
												                      <h6 class="text-muted" th:text="${plato.getCategoria()}"></h6>
												                      <h6 class="text-black mb-0" th:text="${plato.getNombre()}"></h6>
												                    </div>
												                    
												                    <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
												                      <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
												                        <i class="fas fa-minus"></i>
												                      </button>
												
												                      <input id="form1" min="0" name="quantity" value="1" type="number" class="form-control form-control-sm" />
												
												                      <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
												                        <i class="fas fa-plus"></i>
												                      </button>
												                    </div>
												                    
												                    <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">
												                      <h6 class="mb-0" th:text="${plato.getPrecio()}+€"></h6>
												                    </div>
												                    
												                    <div class="col-md-1 col-lg-1 col-xl-1 text-end">
												                      <a th:href="@{/carta/delete/{id}(id=${plato.getId()})}" class="text-muted"><i class="fas fa-times"></i></a>
												                    </div>
												                  </div>
												                  
												             </div>   
												
												             <hr class="my-4">
												
												             <div class="pt-5">
												             	<h6 class="mb-0"><a href="#!" class="text-body"><i class="fas fa-long-arrow-alt-left me-2"></i>Volver a la carta</a></h6>
												             </div>
										                  
										                </div>
										                
										              </div>
										              
										              <div class="col-lg-4 bg-grey">
														  
										                <div class="p-5">
										                  <h3 class="fw-bold mb-5 mt-2 pt-1">Total</h3>
										                  <hr class="my-4">
										
										                  <div class="d-flex justify-content-between mb-4">
										                    <h5 class="text-uppercase" th:text="${platosReserva.size()}+' '+platos"></h5>
										                    <h5>€ 50.00</h5>
										                  </div>
										
										                  <hr class="my-4">
										
										                  <div class="d-flex justify-content-between mb-5">
										                    <h5 class="text-uppercase">Precio total</h5>
										                    <h5>€ 50.00</h5>
										                  </div>
										
										                  <a class="btn background-general btn-block btn-lg text-white" data-mdb-ripple-color="dark" href="/reservas">Reservar</a>
										
										                </div>
										                
										              </div>
										              
										            </div>
										          </div>
										        </div>
										      </div>
										    </div>
										  </div>
										</section>
					            </div>
					            
					        </div>
					    </div>
					
					</div>
					
				</div>	
				
			</section>
		</main>
		
	</body>
	
	<footer th:insert="footer::footer"></footer>
</html>